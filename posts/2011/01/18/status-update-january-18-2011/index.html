<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <title>Status Update - January 18, 2011</title>
    <link rel="stylesheet" href="http://patrick.cloke.us/theme/css/main.css" />
    <link href="http://patrick.cloke.us/feeds/atom.xml" type="application/atom+xml" rel="alternate" title="Like bricks in the sky Atom Feed" />
    <link href="http://patrick.cloke.us/feeds/rss.xml" type="application/rss+xml" rel="alternate" title="Like bricks in the sky RSS Feed" />

    <!--[if IE]>
        <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>

<body id="index" class="home">
    <header id="banner" class="body">
        <h1><a href="http://patrick.cloke.us/">Like bricks in the sky </a></h1>
        <nav><ul>
            <li><a href="http://patrick.cloke.us/pages/about.html">About</a></li>
            <li><a href="http://patrick.cloke.us/pages/contact.html">Contact</a></li>
            <li><a href="http://patrick.cloke.us/archives.html">Archives</a></li>
            <li><a href="http://patrick.cloke.us/tags.html">Tags</a></li>
        </ul></nav>
    </header><!-- /#banner -->

    <div id="container" class="body">
        <section id="extras" class="left">
            <div class="social">
                <h2>social</h2>
                <ul>
                    <li><a href="http://patrick.cloke.us/feeds/atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>
                    <li><a href="http://patrick.cloke.us/feeds/rss.xml" type="application/rss+xml" rel="alternate">rss feed</a></li>

                    <li><a href="https://www.twitter.com/clokep">twitter</a></li>
                    <li><a href="https://bitbucket.org/clokep">bitbucket</a></li>
                    <li><a href="https://www.github.com/clokep">github</a></li>
                    <li><a href="https://mozillians.org/clokep">mozillians</a></li>
                </ul>
            </div><!-- /.social -->
        </section><!-- /#extras -->

        <section id="search" class="left">
            <h2>search</h2>

            <form method="get" action="http://www.bing.com/search">

                <input type="text" name="q" placeholder="search this site" />
                <input type="submit" value="Search" />
                <input type="hidden"  name="q1" value="site:patrick.cloke.us" />
            </form>
        </section>



<section id="content" class="body">
  <article>
    <header>
        <h1 class="entry-title">
            <a href="http://patrick.cloke.us/posts/2011/01/18/status-update-january-18-2011/" rel="bookmark"
               title="Permalink to Status Update - January 18, 2011">Status Update - January 18,&nbsp;2011</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
    <abbr class="published" title="2011-01-18T23:17:00">
        Published: 01/18/2011 11:17 PM UTC
    </abbr>


<p>tags: <a href="http://patrick.cloke.us/tag/instantbird.html">Instantbird</a> <a href="http://patrick.cloke.us/tag/irc.html">IRC</a> <a href="http://patrick.cloke.us/tag/mozilla.html">Mozilla</a> <a href="http://patrick.cloke.us/tag/programming.html">programming</a> </p>
</footer><!-- /.post-info -->        <p>I haven&#8217;t had an update in a few weeks (since early December)
actually, so I thought I would post a bit about what I&#8217;ve worked on.
I&#8217;ve fixed a bunch of bugs in the backend of Instantbird that allow work
on JavaScript <span class="caps">IRC</span> protocol to&nbsp;continue:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=519">Bug 519</a> - Extend jsProtoHelper to implement purpleIConvChat
(<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/0166084ce2ae">check-in</a>)</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=495">Bug 495</a> - purpleIAccount cannot access preferences via JavaScript
protocol (<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/a188a5cc3ff1">check-in</a>)</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=648">Bug 648</a> -Provide a default <span class="caps">JS</span> implementation of
purpleIChatRoomField
(<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/61fc80a569d3">check-in</a>)</li>
<li>[Reviewed] <a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=647">Bug 647</a> - Username split for JavaScript protocols
(<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/a6c8fbf77e10">check-in</a>)</li>
<li>[Reviewed] &lt;no bug&gt; -Share the nsIClassInfo implementation between
all the objects implemented in jsProtoHelper
(<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/035f7d8d7f78">check-in</a>)</li>
</ul>
<p>Also a few other random bugs I&#8217;ve worked&nbsp;on:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=625">Bug 625</a> - Findbar broken on Windows in Conversation window
(<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/2e8af77af2f2">check-in</a>)</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=629">Bug 629</a> - Remove workaround for bug 503048
(<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/ba4b9401791b">check-in</a>)</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=473">Bug 473</a> - <span class="caps">JS</span> Logger line breaks don&#8217;t play well on Windows
<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/6a600b8a32c9">(check-in</a>)</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=593">Bug 593</a> - JavaScript component does not have a method named:
&quot;onBeforeLinkTraversal&quot;
(<a class="reference external" href="http://hg.instantbird.org/instantbird/rev/1b75f9fa4859">check-in</a>)</li>
</ul>
<p>Although none of these are really things that weren&#8217;t working a few
weeks ago, there are now real APIs for these for JavaScript protocols,
allowing other protocols to use them and to <em><span class="caps">FULLY</span></em> implement them
instead of hard coding values.&nbsp; In addition, a lot of the purplexpcom
layer is now hidden from JavaScript&nbsp;protocols.</p>
<p>There&#8217;s a few things left to do for the JavaScript protocol&nbsp;layer:</p>
<ul class="simple">
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=118">Bug 118</a> - Extensions should be able to register&nbsp;commands.</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=650">Bug 650</a> - JavaScript accounts must be notified of status changes
(a sketchy patch that exists that will work, but a better patch to
core should be&nbsp;done)</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=623">Bug 623</a> - Auto-Join option field is hard coded for certain
protocols (not <em>really</em> necessary, since it&#8217;s still <span class="caps">IRC</span>, but it
should be&nbsp;fixed)</li>
<li><a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=649">Bug 649</a> - Proxy should be available to JavaScript protocols
(hopefully being handled by&nbsp;Florian)</li>
</ul>
<p>A good summary of this is <a class="reference external" href="https://bugzilla.instantbird.org/showdependencygraph.cgi?id=507&amp;display=web&amp;rankdir=LR">the dependency graph of bug 507</a>
(Implement <span class="caps">IRC</span> in JavaScript).&nbsp; Note that the <span class="caps">IRC</span> JavaScript work blocks
<em>a&nbsp; lot</em> of <span class="caps">UI</span> work done for <span class="caps">IRC</span>.&nbsp; In particular Mook has been working
on implementing notifications (i.e. Invites, and perhaps a few other
commands), see <a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=628">Bug 628</a>.&nbsp; For other bugs, see the link above &#8212; and if
there&#8217;s a strange <span class="caps">UI</span> feature that you think should be added, please file
a bug and let us know about&nbsp;it!</p>
<p>I&#8217;ve also worked a bit on sending outgoing text with rich formatting
(bold, italics, underline, text size, etc.), this work is being tracked
in <a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=634">Bug 634</a>. There&#8217;s a proof on concept, but a lot of work needs to be
done for it, but it&#8217;s sort of working right&nbsp;now.</p>
<p>As I alluded to in my last blog post, the JavaScript protocols would
be used to implement Twitter. Work for this is occurring in <a class="reference external" href="https://bugzilla.instantbird.org/show_bug.cgi?id=598">Bug 598</a>,
where Florian has implemented (very) basic Twitter&nbsp;support.</p>
<p>My plans for the next&nbsp;bit:</p>
<ul class="simple">
<li>I&#8217;m hoping to finish up some of the work blocking JavaScript
protocols so <span class="caps">IRC</span> can be put into a state that needs alpha/beta
testers (if you&#8217;re interested in testing/hacking please drop me a
line here, on <span class="caps">IRC</span> or via&nbsp;email).</li>
<li>Move into my new&nbsp;apartment</li>
<li>Start my new&nbsp;job</li>
<li>Work on richtext messages a bit&nbsp;more</li>
</ul>

    </div><!-- /.entry-content -->

  </article>
</section>
    </div>

    <footer id="contentinfo" class="body">
        <address id="about" class="vcard body">
        Proudly powered by <a href="http://getpelican.com/">Pelican</a>, which takes great advantage of <a href="http://python.org">Python</a>.
        </address><!-- /#about -->
    </footer><!-- /#contentinfo -->

    <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-52389517-1']);
    _gaq.push(['_trackPageview']);
    (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
    </script>
</body>
</html>