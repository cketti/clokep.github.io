{% extends "base.html" %}

{% block content %}
{% for article in articles_page.object_list %}
<div class="container">
  <div class="row">
    <div class="col-md-12">
      <h1><a href="/{{ article.url }}">{{ article.title }}</a></h1>

      {# The first item: it gets displayed with additional information. #}
      {% if loop.first and not articles_page.has_previous() %}
      {{ article.toc }}
      {% include 'article_info.html' %}
      {{ article.content }}
      {% else %}
      {% include 'article_info_brief.html' %}
      {{ article.summary }}
      <a class="readmore" href="/{{ article.url }}">read more &rarr;</a>
      {% endif %}

      {% include 'comments.html' %}

    </div>
  </div>
</div>

{# End of loop #}
{% if loop.last %}
  {# TODO Pagination #}
  {#{% if articles_page.has_previous() or loop.length > 1 %}#}
  {#{% include 'pagination.html' %}#}
  {#{% endif %}#}
{% endif %}
{% endfor %}

{% endblock content %}
